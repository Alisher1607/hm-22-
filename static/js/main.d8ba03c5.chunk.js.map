{"version":3,"sources":["store/actionCreator/actionCreators.js","components/UsersRender.jsx","App.jsx","store/rootReducer/rootReducer.js","store/rootReducer/store.js","index.js"],"names":["getData","data","type","UsersRender","dispatch","useDispatch","users","useSelector","state","login","getDataFromServer","fetch","response","json","result","iteration","filter","el","id","localStorage","setItem","JSON","stringify","onClick","axios","post","Error","message","postDataToServer","title","then","toast","success","catch","err","error","payload","deleteData","removeItem","map","name","App","loginInitialState","isSucces","rootReducer","combineReducers","action","newData","item","i","taskId","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"yNAEaA,EAAU,SAACC,GACtB,MAAO,CACLC,KAAM,MACND,KAAMA,EAEV,E,OCuDeE,EArDK,WAElB,IAAMC,EAAWC,cAETC,EAAUC,aAAY,SAACC,GAAK,OAAKA,EAAMC,KAAK,IAA5CH,MAEFI,EAAiB,iDAAG,gHACHN,EDNvB,iDAAO,WAAOA,GAAQ,mGACGO,MAAM,8CAA8C,KAAD,EAA5D,OAARC,EAAQ,gBACKA,EAASC,OAAO,KAAD,EACV,OADlBZ,EAAI,OACVG,EAASJ,EAAQC,IAAO,kBACjBA,GAAI,2CACZ,mDALD,ICMoD,KAAD,EAA3Ca,EAAM,OAENC,EAAYD,EAAOE,QAAO,SAACC,GAC/B,OAAOA,EAAGC,GAAK,IAAM,CACvB,IAEAC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUP,IAAY,2CACzD,kBARsB,mCA6BvB,OACE,gCACE,wBAAQQ,QAASb,EAAkB,sBACnC,wBAAQa,QAjBS,WAKnBnB,EDjB4B,SAACH,GAC/B,wDAAO,WAAOG,GAAQ,0GAEKoB,IAAMC,KAC3B,6CACAxB,GACA,KAAD,EAHa,OAARW,EAAQ,yBAIPA,EAASX,MAAI,sCAEd,IAAIyB,MAAM,KAAMC,SAAS,KAAD,oDAEjC,mDAVD,EAWF,CCKaC,CAJI,CACXC,MAAOvB,KAINwB,MAAK,WACJC,IAAMC,QAAQ,UAChB,IACCC,OAAM,SAACC,GACNH,IAAMI,MAAMD,EAAIP,QAClB,GACJ,EAKkC,uBAC9B,wBAAQJ,QAAS,kBAvBML,EAuBkBZ,EAAMY,GAtBjDd,EDMsB,SAACc,GACzB,MAAO,CACLhB,KAAM,SACNkC,QAASlB,EAEb,CCXamB,CAAWnB,SACpBC,aAAamB,WAAW,QAFA,IAACpB,CAuB2B,EAAC,yBACnD,4OACCZ,EAAMiC,KAAI,SAACtC,GACV,OACE,gCACE,6BAAKA,EAAKiB,KACV,6BAAKjB,EAAKuC,SAFFvC,EAAKiB,GAKnB,MAGN,EClDeuB,MARf,WACE,OACE,8BACE,cAAC,EAAW,KAGlB,E,uBCNMC,EAAoB,CACxBpC,MAAO,GACPqC,UAAU,EACVR,MAAO,MAsCIS,EAAcC,YAAgB,CACzCpC,MApCmB,WAAwC,IAAvCD,EAAK,uDAAGkC,EAAmBI,EAAM,uCACrD,GAAoB,QAAhBA,EAAO5C,KAAgB,CACzB,IAAM6C,EAAUD,EAAO7C,KAAKe,QAAO,SAACgC,EAAMC,GAAC,OAAKA,EAAI,CAAC,IACrD,OAAO,2BACFzC,GAAK,IACRF,MAAOyC,GAEX,CAEA,GAAoB,WAAhBD,EAAO5C,KAAmB,CAC5B,IAAMgD,EAASJ,EAAOV,QAChBC,EAAa7B,EAAMF,MAAMU,QAAO,SAACf,GAAI,OAAKA,EAAKiB,KAAOgC,CAAM,IAClE,OAAO,2BACF1C,GAAK,IACRF,MAAO+B,GAEX,CAEA,MAAoB,WAAhBS,EAAO5C,KACF,2BACFM,GAAK,IACRmC,UAAU,IAIM,UAAhBG,EAAO5C,KACF,2BACFM,GAAK,IACR2B,MAAOW,EAAOV,UAIX5B,CACT,ICpCe2C,EADDC,YAAYR,EAAaS,YAAgBC,M,MCMvDC,IAASC,OACP,eAAC,IAAQ,CAACL,MAAOA,EAAM,UACrB,cAAC,IAAc,IACf,cAAC,EAAG,OAENM,SAASC,eAAe,Q","file":"static/js/main.d8ba03c5.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getData = (data) => {\r\n  return {\r\n    type: \"GET\",\r\n    data: data,\r\n  };\r\n};\r\n\r\nexport const asyncSendRequest = () => {\r\n  return async (dispatch) => {\r\n    const response = await fetch(\"https://jsonplaceholder.typicode.com/users\");\r\n    const data = await response.json();\r\n    dispatch(getData(data));\r\n    return data;\r\n  };\r\n};\r\n\r\nexport const postDataToServer = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://jsonplaceholder.typicode.com/users\",\r\n        data\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.message);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteData = (id) => {\r\n  return {\r\n    type: \"DELETE\",\r\n    payload: id,\r\n  };\r\n};\r\n\r\nexport const removeData = () => {\r\n  return {\r\n    type: 'remove',\r\n    payload: []\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  asyncSendRequest,\r\n  deleteData,\r\n  postDataToServer,\r\n} from \"../store/actionCreator/actionCreators\";\r\n\r\nconst UsersRender = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { users } = useSelector((state) => state.login);\r\n\r\n  const getDataFromServer = async () => {\r\n    const result = await dispatch(asyncSendRequest());\r\n\r\n    const iteration = result.filter((el) => {\r\n      return el.id % 2 == -0;\r\n    });\r\n\r\n    localStorage.setItem(\"data\", JSON.stringify(iteration));\r\n  };\r\n\r\n  const deleteDataHandler = (id) => {\r\n    dispatch(deleteData(id));\r\n    localStorage.removeItem(\"data\");\r\n  };\r\n\r\n  const postToServer = () => {\r\n    const data = {\r\n      title: users,\r\n    };\r\n\r\n    dispatch(postDataToServer(data))\r\n      .then(() => {\r\n        toast.success(\"Succes!\");\r\n      })\r\n      .catch((err) => {\r\n        toast.error(err.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={getDataFromServer}>Get Data</button>\r\n      <button onClick={postToServer}>Post Data</button>\r\n      <button onClick={() => deleteDataHandler(users.id)}>Delete Data</button>\r\n      <h1>Для удаления с UI ,надо обновить страницу!</h1>\r\n      {users.map((data) => {\r\n        return (\r\n          <div key={data.id}>\r\n            <li>{data.id}</li>\r\n            <li>{data.name}</li>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersRender;\r\n","import UsersRender from \"./components/UsersRender\";\n\nfunction App() {\n  return (\n    <div>\n      <UsersRender />\n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\r\n\r\nconst loginInitialState = {\r\n  users: [],\r\n  isSucces: false,\r\n  error: null,\r\n};\r\n\r\nconst loginReducer = (state = loginInitialState, action) => {\r\n  if (action.type === \"GET\") {\r\n    const newData = action.data.filter((item, i) => i % 2);\r\n    return {\r\n      ...state,\r\n      users: newData,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"DELETE\") {\r\n    const taskId = action.payload;\r\n    const deleteData = state.users.filter((data) => data.id === taskId);\r\n    return {\r\n      ...state,\r\n      users: deleteData,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"SUCCES\") {\r\n    return {\r\n      ...state,\r\n      isSucces: true,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"ERROR\") {\r\n    return {\r\n      ...state,\r\n      error: action.payload,\r\n    };\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport const rootReducer = combineReducers({\r\n  login: loginReducer,\r\n});\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"./rootReducer\";\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/rootReducer/store\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ToastContainer />\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}